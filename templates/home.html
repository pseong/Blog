{% extends 'base.html' %}
{% block script %}
<script id="dsq-count-scr" src="//termos-blog.disqus.com/count.js" async></script>
{% endblock %}
{% block content %}
<!-- Blog Entries Column -->
<div class="col-md-9">

  <h1 class="my-4">
    {% if category_id %}{{ category_id }}
    {% elif search_id %}{{ '검색 : ' + search_id }}
    {% else %}{{ '전체 게시글' }}
    {% endif %}
  </h1>

  <!-- Post List -->
  <table class="table table-sm">
    <thead>
    <tr class="table-secondary">
      <td class="text-muted">글 제목</th>
      <td class="text-right text-muted">작성일</td>
    </tr>
    </thead>
    <tbody>
    {% for post in posts %}
    <tr>
      <td>{{ post }}</td>
      <td class="text-right font-italic text-secondary">{{ post_list[post]['date'] }}</td>
    </tr>
    {% endfor %}
    </tbody>
  </table>
  <ul class="pagination justify-content-center mb-4">{{ pagination.links }}</ul>

  <!-- Blog Post -->
  {% for post in post_list.values() %}
  <div class="card mb-4">
    {% if loop.index%2 == 1 %}
    <img class="card-img-top" src="http://placehold.it/750x300" alt="Card image cap">
    {% endif %}
    <div class="card-body">
      <h3 class="card-title">{{ post['title'] }}</h3>
      <p class="card-text">{{ post.content[0:150] }}</p>
      <a href="{{ url_for('post', post_id=post['title']) }}" class="btn btn-primary btn-sm">Read More &rarr;</a>
    </div>
    <div class="card-footer text-muted">
      {{ post['date'] }}
      <!--<a href="#">Start Bootstrap</a>-->
    </div>
  </div>
  {% endfor %}

</div>
{% endblock %}